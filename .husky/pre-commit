#!/bin/bash

# Exit immediately if any command fails
set -e

echo "ğŸš€ Bumping version..."
npm version patch --no-git-tag-version

# echo "ğŸ” Running lint checks..."
# npm run lint

echo "ğŸ› ï¸ Running build..."
npm run build

echo "ğŸ“Œ Staging version changes..."
git add package.json package-lock.json


echo "ğŸ·ï¸ Tagging the commit..."
VERSION=$(node -p "require('./package.json').version")
git tag "v$VERSION"

echo "âœ… Pre-commit hook executed successfully!"
